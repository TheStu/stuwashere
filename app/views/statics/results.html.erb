<% provide(:title, "Search Results") %>
<% provide(:desc, "Search results for #{params[:q]}") %>

<div class="row">
  <div class="span9">
    <h1 class="results-h1"><%= params[:q] %></h1>

    <% @results.each do |result| %>
      <div class="well">
        <h3 class="result-name">
          <% if result.searchable.class.name == "Post" %>
            <%= link_to result.searchable.title, result.searchable %>
          <% else %>
            <%= link_to result.searchable.name, result.searchable %>
          <% end %>
        </h3>
        <div class="result-content">
          <p>
            <% if result.searchable.class.name == "Post" %>
              <%= truncate(strip_tags(result.searchable.content), :length => 350) %>
            <% else %>
              <%= result.searchable.intro %>
            <% end %>
          </p>
        </div>
      </div>
    <% end %>
  </div>
  <div class="span3">
    <%= render 'shared/sidebar' %>
  </div>
</div>
